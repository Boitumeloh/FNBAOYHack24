<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Performance & History - Makhie</title>
    <link rel="stylesheet" href="perfomance-history.css" />
  </head>
  <body>
    <!-- Navbar -->
    <header class="navbar">
      <h1><a href="index.html">Makhie</a></h1>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="businesspage.html">Businesses</a></li>
          <li><a href="dashboard.html">Dashboard</a></li>
          <li><a href="login.html">Login</a></li>
        </ul>
      </nav>
    </header>

    <!-- History Section -->
    <section class="history-section">
      <h2 id="historyTitle">History Overview</h2>

      <!-- Business History Table -->
      <div class="history-content" id="businessHistory" style="display: none;">
        <h3>Business Performance</h3>
        <table>
          <thead>
            <tr>
              <th>Year</th>
              <th>Revenue</th>
              <th>Expenses</th>
              <th>Profit</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>2022</td>
              <td>R500,000</td>
              <td>R300,000</td>
              <td>R200,000</td>
            </tr>
            <tr>
              <td>2023</td>
              <td>R750,000</td>
              <td>R400,000</td>
              <td>R350,000</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Stokvel History Table -->
      <div class="history-content" id="stokvelHistory" style="display: none;">
        <h3>Stokvel Contribution History</h3>
        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Member</th>
              <th>Amount Contributed</th>
              <th>Balance</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>2024-01-10</td>
              <td>John Doe</td>
              <td>R1,000</td>
              <td>R10,000</td>
            </tr>
            <tr>
              <td>2024-02-10</td>
              <td>Jane Smith</td>
              <td>R1,500</td>
              <td>R11,500</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <script>
      // Function to get query parameters
      function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
      }

      // Elements for switching content dynamically
      const businessHistory = document.getElementById('businessHistory');
      const stokvelHistory = document.getElementById('stokvelHistory');
      const historyTitle = document.getElementById('historyTitle');

      // Determine which section to show based on query parameter
      const userType = getQueryParam('type');

      if (userType === 'business') {
        businessHistory.style.display = 'block';
        historyTitle.textContent = 'Business Performance History';
      } else if (userType === 'stokvel') {
        stokvelHistory.style.display = 'block';
        historyTitle.textContent = 'Stokvel Contribution History';
      } else {
        // Default to business history if no type is specified
        stokvelHistory.style.display = 'block';
        businessHistory.style.display = 'block';
      }
    </script>
  </body>
</html>
